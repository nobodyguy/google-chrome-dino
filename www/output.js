!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){var n=[[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,1,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,1,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0],[2,1,0,0,0,0,0,1,2,2,2,2,2,2,1,1,1,1,1,0,0],[2,1,0,0,0,0,1,2,2,2,2,2,2,2,1,1,1,0,0,0,0],[2,2,1,0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0],[2,2,2,1,1,2,2,2,2,2,2,2,2,2,1,2,1,0,0,0,0],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0],[1,1,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0],[0,1,1,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0],[0,0,1,1,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,1,1,1,2,1,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,1,1,1,1,2,1,1,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,1,1,1,2,2,1,0,0,0,0,0,0,0,0]],r=[[0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0],[0,0,0,0,4,4,0,4,4,4,0,0,0,0,0,0,0,0],[0,0,0,4,4,4,0,0,4,4,4,0,0,0,0,0,0,0],[0,0,4,4,4,4,0,0,4,4,4,4,0,0,0,0,0,0],[0,4,4,4,4,4,4,0,4,4,4,4,4,0,0,0,0,0],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0],[0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0],[0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,0,0,0],[0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0]],o=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0],[0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0],[0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0],[0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,0,0,0],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,0,0,0,0],[0,0,0,0,0,0,0,4,4,4,4,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0]];e.exports={dino_layout:{stand:n,dead:[[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,1,1],[0,0,0,0,0,0,0,0,0,1,2,1,1,1,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,1,2,1,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,1,1,1,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0],[2,1,0,0,0,0,0,1,2,2,2,2,2,2,1,1,1,1,1,0,0],[2,1,0,0,0,0,1,2,2,2,2,2,2,2,1,1,1,0,0,0,0],[2,2,1,0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0],[2,2,2,1,1,2,2,2,2,2,2,2,2,2,1,2,1,0,0,0,0],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0],[1,1,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0],[0,1,1,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0],[0,0,1,1,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,1,1,1,2,1,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,1,1,1,1,2,1,1,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,1,1,1,2,2,1,0,0,0,0,0,0,0,0]],run:[[[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,1,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,1,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1],[1,1,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0],[2,1,0,0,0,0,0,1,2,2,2,2,2,2,1,1,1,1,1,0,0],[2,1,0,0,0,0,1,2,2,2,2,2,2,2,1,1,1,0,0,0,0],[2,2,1,0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0],[2,2,2,1,1,2,2,2,2,2,2,2,2,2,1,2,1,0,0,0,0],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0],[1,1,2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0],[0,1,1,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0],[0,0,1,1,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,2,1,1,2,2,1,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,1,1,1,1,1,1,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,1,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,1,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,1,1,1,1,1,1],[1,1,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,1,0,0],[2,1,0,0,0,0,1,1,2,2,2,2,2,2,1,1,1,1,1,0,0],[2,1,0,0,0,1,1,2,2,2,2,2,2,2,1,1,1,0,0,0,0],[2,2,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0],[2,2,2,1,1,2,2,2,2,2,2,2,2,2,1,2,1,0,0,0,0],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,0,0,0],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0],[1,1,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0],[0,1,1,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0],[0,0,1,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,2,2,1,1,2,2,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,2,2,1,1,2,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,2,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0]]],jump:n},road_layout:[[2,2,2]],cloud_layout:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,0,3,3,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0,0,0,3,0,3,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,3,3,3,0,0,0],[0,0,0,0,0,0,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0],[0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0],[0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3],[0,3,3,0,3,3,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],[3,3,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]],stone_layout:{large:[[2,2,2,2]],medium:[[2,2]],small:[[2]]},pit_layout:{large:[[1,1,1,1,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,2,2,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,2,2,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[2,2,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[2,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,2,2],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,1]],up:[[1,2,2,2,2,2,1,1,1,1,2,2,2,1],[2,2,1,1,1,1,2,2,2,2,1,1,2,2],[2,1,1,1,1,1,1,1,1,1,1,1,1,2]],down:[[2,1,1,1,1,1,1,1,1,1,1,1,1,2],[2,2,1,1,1,2,2,2,2,2,1,1,1,2],[1,2,2,2,2,1,1,1,1,1,2,2,2,1]]},bird_layout:{fly:[r,r,r,r,r,r,r,o,o,o,o,o,o,o]},cactus_layout:{small_s1:[[0,0,0,1,1,2,2,1,1,1,1,1],[0,0,0,1,2,2,2,2,1,1,2,1],[0,0,0,1,2,2,2,2,1,2,2,2],[0,0,0,1,2,2,2,2,1,2,2,2],[1,1,1,1,2,2,2,2,1,2,2,2],[1,2,1,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,2,2,2,2],[2,2,2,1,2,2,2,2,2,2,2,2],[2,2,2,2,2,2,2,2,2,2,2,1],[2,2,2,2,2,2,2,2,2,1,1,1],[1,2,2,2,2,2,2,2,1,1,0,0],[1,1,1,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0]],small_s2:[[1,1,1,1,1,2,2,1,1,0,0,0],[1,2,1,1,2,2,2,2,1,1,1,1],[2,2,2,1,2,2,2,2,1,1,2,1],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,2,2,2,2,2,1,2,2,2],[1,2,2,2,2,2,2,2,1,2,2,2],[1,1,2,2,2,2,2,2,1,2,2,2],[0,1,1,1,2,2,2,2,1,2,2,2],[0,0,0,1,2,2,2,2,2,2,2,2],[0,0,0,1,2,2,2,2,2,2,2,1],[0,0,0,1,2,2,2,2,2,1,1,1],[0,0,0,1,2,2,2,2,1,1,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0]],small_d1:[[0,0,0,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1],[0,0,0,1,2,2,2,2,1,1,2,1,1,1,2,1,1,2,2,2,2,1,1,1,1],[0,0,0,1,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,1,1,2,1],[0,0,0,1,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,1,2,2,2],[1,1,1,1,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,1,2,2,2],[1,2,1,1,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2],[2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,2,2,2,2,2,2,1,2,2,2],[2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,2,2,2,2,1,2,2,2],[1,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2],[1,1,1,1,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,1],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,1,1,0,0],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0]],medium_s1:[[0,0,0,1,1,2,2,1,1,1,1,1],[0,0,0,1,2,2,2,2,1,1,2,1],[0,0,0,1,2,2,2,2,1,2,2,2],[0,0,0,1,2,2,2,2,1,2,2,2],[0,0,0,1,2,2,2,2,1,2,2,2],[1,2,1,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,2,2,2,2],[2,2,2,1,2,2,2,2,2,2,2,2],[2,2,2,2,2,2,2,2,2,2,2,1],[2,2,2,2,2,2,2,2,2,1,1,1],[1,2,2,2,2,2,2,2,1,1,0,0],[1,1,1,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0]],medium_s2:[[1,1,1,1,1,2,2,1,1,0,0,0],[1,2,1,1,2,2,2,2,1,0,0,0],[2,2,2,1,2,2,2,2,1,0,0,0],[2,2,2,1,2,2,2,2,1,0,0,0],[2,2,2,1,2,2,2,2,1,0,0,0],[2,2,2,1,2,2,2,2,1,1,2,1],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,2,2,2,2,2,1,2,2,2],[2,2,2,2,2,2,2,2,1,2,2,2],[1,2,2,2,2,2,2,2,2,2,2,2],[1,1,1,2,2,2,2,2,2,2,2,2],[0,0,1,1,2,2,2,2,2,2,2,1],[0,0,0,1,2,2,2,2,1,1,1,1],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0]],medium_d1:[[0,0,0,1,1,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,2,2,2,2,1,1,2,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,1,1,1,1,1],[1,2,1,1,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,1,2,1,1,2,2,2,2,1,2,2,2],[2,2,2,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,1,2,2,2,1,2,2,2,2,1,2,2,2],[2,2,2,2,2,2,2,2,2,1,1,1,1,0,0,1,1,1,0,0,0,1,2,2,2,1,2,2,2,2,2,2,2,2],[1,2,2,2,2,2,2,2,1,1,0,0,1,0,1,1,2,1,1,0,0,1,2,2,2,1,2,2,2,2,2,2,2,2],[1,1,1,1,2,2,2,2,1,0,0,1,1,1,1,2,2,2,1,0,0,1,2,2,2,2,2,2,2,2,2,2,2,1],[0,0,0,1,2,2,2,2,1,0,0,1,2,2,1,2,2,2,1,0,0,1,2,2,2,2,2,2,2,2,2,1,1,1],[0,0,0,1,2,2,2,2,1,0,0,1,2,2,1,2,2,2,1,1,1,1,1,2,2,2,2,2,2,2,1,1,0,0],[0,0,0,1,2,2,2,2,1,0,0,1,2,2,1,2,2,2,1,2,2,1,1,1,1,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,1,2,2,2,2,2,2,1,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,1,1,1,1,2,2,2,1,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,1,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,2,2,1,1,0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,1,1,1,0,0,0,0,1,2,2,2,2,1,0,0,0],[0,0,0,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0]]},star_layout:{small_s1:[[0,0,0,0,5,0,0,0,0],[0,0,5,0,5,0,5,0,0],[0,5,0,0,5,0,0,5,0],[0,0,0,5,5,5,0,0,0],[5,5,5,5,5,5,5,5,5],[0,0,0,5,5,5,0,0,0],[0,5,0,0,5,0,0,5,0],[0,0,5,0,5,0,5,0,0],[0,0,0,0,5,0,0,0,0]],small_s2:[[0,0,0,5,0,0,0],[0,0,0,5,0,0,0],[0,0,5,5,5,0,0],[5,5,5,5,5,5,5],[0,0,5,5,5,0,0],[0,0,0,5,0,0,0],[0,0,0,5,0,0,0]]},retry_layout:[[1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1],[1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1],[1,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[2,2,2,2,2,1,1,1,1,1,1,2,2,2,2,1,1,1,1,2,2,2,2,2],[2,2,2,2,1,1,1,1,1,1,1,1,2,2,2,1,1,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,1,1,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,2,1,1,2,2,2,2,2,2,2,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,2,1,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2],[2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2],[2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1]],themes:{classic:{id:1,background:"#ffffff",road:"#535353",score_text:"#747474",info_text:"#535353",layout:[!1,"#ffffff","#535353","#dadada","#535353",!1]},dark:{id:2,background:"#202225",road:"#acacac",score_text:"#909191",info_text:"#acacac",layout:[!1,"#202225","#acacac","#3e3f3f","#acacac","#3e3f3f"]}}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.r(t);var u=function(){function e(t,n){o(this,e),this._y_pos=t,this._x_pos=n}return a(e,[{key:"get",value:function(){return[this._y_pos,this._x_pos]}},{key:"clone",value:function(){return new e(this._y_pos,this._x_pos)}}])}(),s=function(){function e(t,n){o(this,e),this._y_speed=t,this._x_speed=n}return a(e,[{key:"get",value:function(){return[this._y_speed,this._x_speed]}},{key:"sub",value:function(e){return this._y_speed-=e._y_speed,this._x_speed-=e._x_speed,this}},{key:"add",value:function(e){return this._y_speed+=e._y_speed,this._x_speed+=e._x_speed,this}},{key:"clone",value:function(){return new e(this._y_speed,this._x_speed)}}])}();function l(e,t){return new u(e._y_pos+t._y_speed,e._x_pos+t._x_speed)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function v(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var b=function(){function e(t,n,r,o){m(this,e),this._movements_array=t,this._position=r,this._velocity=o,this._movement_delay=n}return v(e,[{key:"clone",value:function(){return new e(d(this._movements_array),this._movement_delay,this._position.clone(),this._velocity.clone())}}])}(),g=function(){return v((function e(t){m(this,e),this._character_meta=t,this._tick_counter=0,this._movement_delay_counter=0}),[{key:"tick",value:function(){this._movement_delay_counter++,this._movement_delay_counter>this._character_meta._movement_delay&&(this._movement_delay_counter=0,this._tick_counter+=1,this.set_position(l(this._character_meta._position,this._character_meta._velocity)))}},{key:"get_layout",value:function(){return this._character_meta._movements_array[this._tick_counter%this._character_meta._movements_array.length]}},{key:"get_position",value:function(){return this._character_meta._position}},{key:"set_position",value:function(e){this._character_meta._position=e}},{key:"get_velocity",value:function(){return this._character_meta._velocity}}])}(),w=function(){return v((function e(){m(this,e),this._character_array=[]}),[{key:"add_character",value:function(e,t){return this._character_array.push([e,t]),this}}])}(),_=function(){return v((function e(t,n,r){m(this,e),this._allocator_character_array=t,this._min_gap=n,this._gap_random_max=r,this._pending_gap=0}),[{key:"tick",value:function(){this._pending_gap-=1}},{key:"get_character",value:function(){if(this._pending_gap>0)return!1;for(var e=Math.random(),t=0;t<this._allocator_character_array._character_array.length;t++)if(e>=this._allocator_character_array._character_array[t][1]){var n=new g(this._allocator_character_array._character_array[t][0].clone());return this._pending_gap=this._min_gap+Math.ceil(Math.random()*this._gap_random_max),n}}}])}(),S=n(0);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function O(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(j(e)+" is not iterable")}function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=I(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return C(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return M(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,c=0,u=e,d.n=n,a}};function p(n,r){for(c=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),c=l,u=m;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(M(t={},r,(function(){return this})),t),f=s.prototype=c.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,M(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,M(f,"constructor",s),M(s,"constructor",u),u.displayName="GeneratorFunction",M(s,o,"GeneratorFunction"),M(f),M(f,o,"Generator"),M(f,r,(function(){return this})),M(f,"toString",(function(){return"[object Generator]"})),(D=function(){return{w:i,m:d}})()}function M(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(M=function(e,t,n,r){function i(t,n){M(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function L(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,c,"next",e)}function c(e){L(i,r,o,a,c,"throw",e)}a(void 0)}))}}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function N(e,t,n){return t=B(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],B(e).constructor):t.apply(e,n))}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}var W=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(n=N(this,t,[e]),"filters",void 0),U(n,"services",void 0),U(n,"bluetooth",void 0),U(n,"commands",void 0),U(n,"server",void 0),U(n,"writeLast",null),U(n,"isActive",!1),U(n,"activeConfig",{threshold:2.5,duration:1e3}),U(n,"massMax",void 0),U(n,"massAverage",void 0),U(n,"massTotalSum",void 0),U(n,"dataPointCount",void 0),U(n,"downloadPackets",[]),U(n,"tareCurrent",0),U(n,"tareActive",!1),U(n,"tareStartTime",null),U(n,"tareSamples",[]),U(n,"tareDuration",5e3),U(n,"notifyCallback",(function(e){return console.log(e)})),U(n,"writeCallback",(function(e){return console.log(e)})),U(n,"activeCallback",(function(e){return console.log(e)})),U(n,"onDisconnectedListener",(function(e){return n.onDisconnected(e)})),U(n,"notificationListeners",new Map),U(n,"active",(function(e,t){var r,o;n.activeCallback=e,n.activeConfig={threshold:null!==(r=null==t?void 0:t.threshold)&&void 0!==r?r:n.activeConfig.threshold,duration:null!==(o=null==t?void 0:t.duration)&&void 0!==o?o:n.activeConfig.duration}})),U(n,"activityCheck",function(){var e=R(D().m((function e(t){var r,o,i,a,c,u,s;return D().w((function(e){for(;;)switch(e.n){case 0:return r=t,o=n.activeConfig,i=o.threshold,a=o.duration,e.n=1,new Promise((function(e){return setTimeout(e,a)}));case 1:c=r>i,n.isActive!==c&&(n.isActive=c,null===(u=(s=n).activeCallback)||void 0===u||u.call(s,c));case 2:return e.a(2)}}),e)})));return function(t){return e.apply(this,arguments)}}()),U(n,"connect",R(D().m((function e(){var t,r,o,i,a,c=arguments;return D().w((function(e){for(;;)switch(e.p=e.n){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:function(){return console.log("Connected successfully")},r=c.length>1&&void 0!==c[1]?c[1]:function(e){return console.error(e)},e.p=1,o=n.getAllServiceUUIDs(),e.n=2,n.getBluetooth();case 2:return i=e.v,e.n=3,i.requestDevice({filters:n.filters,optionalServices:o});case 3:if(n.bluetooth=e.v,n.bluetooth.gatt){e.n=4;break}throw new Error("GATT is not available on this device");case 4:return n.bluetooth.addEventListener("gattserverdisconnected",n.onDisconnectedListener),e.n=5,n.bluetooth.gatt.connect();case 5:if(n.server=e.v,!n.server.connected){e.n=6;break}return e.n=6,n.onConnected(t);case 6:e.n=8;break;case 7:e.p=7,a=e.v,r(a);case 8:return e.a(2)}}),e,null,[[1,7]])})))),U(n,"disconnect",(function(){var e,t;n.isConnected()&&(n.updateTimestamp(),n.services.forEach((function(e){e.characteristics.forEach((function(e){if(e.characteristic&&"rx"===e.id){e.characteristic.stopNotifications();var t=n.notificationListeners.get(e.uuid);t&&(e.characteristic.removeEventListener("characteristicvaluechanged",t),n.notificationListeners.delete(e.uuid))}}))})),null===(e=n.bluetooth)||void 0===e||e.removeEventListener("gattserverdisconnected",n.onDisconnectedListener),null===(t=n.bluetooth)||void 0===t||null===(t=t.gatt)||void 0===t||t.disconnect(),n.server=void 0,n.writeLast=null,n.isActive=!1)})),U(n,"downloadToCSV",(function(){var e=k(n.downloadPackets);return 0===e.length?"":e.map((function(e){return[e.received.toString(),e.sampleNum.toString(),e.battRaw.toString()].concat(k(e.samples.map(String)),k(e.masses.map(String))).map((function(e){return e.replace(/"/g,'""')})).map((function(e){return'"'.concat(e,'"')})).join(",")})).join("\r\n")})),U(n,"downloadToJSON",(function(){return JSON.stringify(n.downloadPackets,null,2)})),U(n,"downloadToXML",(function(){var e=n.downloadPackets.map((function(e){var t=e.samples.map((function(e){return"<sample>".concat(e,"</sample>")})).join(""),n=e.masses.map((function(e){return"<mass>".concat(e,"</mass>")})).join("");return"\n          <packet>\n            <received>".concat(e.received,"</received>\n            <sampleNum>").concat(e.sampleNum,"</sampleNum>\n            <battRaw>").concat(e.battRaw,"</battRaw>\n            <samples>").concat(t,"</samples>\n            <masses>").concat(n,"</masses>\n          </packet>\n        ")})).join("");return"<DownloadPackets>".concat(e,"</DownloadPackets>")})),U(n,"download",R(D().m((function e(){var t,r,o,i,a,c,u,s,l,f,d=arguments;return D().w((function(e){for(;;)switch(e.n){case 0:t=d.length>0&&void 0!==d[0]?d[0]:"csv",r="","csv"===t?r=n.downloadToCSV():"json"===t?r=n.downloadToJSON():"xml"===t&&(r=n.downloadToXML()),o=new Date,i=o.toISOString().split("T")[0],a=o.toTimeString().split(" ")[0].replace(/:/g,"-"),c="data-export-".concat(i,"-").concat(a,".").concat(t),u={csv:"text/csv",json:"application/json",xml:"application/xml"},s=new Blob([r],{type:u[t]}),l=globalThis.URL.createObjectURL(s),(f=document.createElement("a")).href=l,f.setAttribute("download",c),document.body.appendChild(f),f.click(),document.body.removeChild(f),globalThis.URL.revokeObjectURL(l);case 1:return e.a(2)}}),e)})))),U(n,"getAllServiceUUIDs",(function(){return n.services.filter((function(e){return null==e?void 0:e.uuid})).map((function(e){return e.uuid}))})),U(n,"handleNotifications",(function(e){e&&(n.updateTimestamp(),console.log(e))})),U(n,"isConnected",(function(){var e;return!!n.bluetooth&&!(null===(e=n.bluetooth.gatt)||void 0===e||!e.connected)})),U(n,"notify",(function(e){n.notifyCallback=e})),U(n,"onConnected",function(){var e=R(D().m((function e(t){var r,o,i,a,c;return D().w((function(e){for(;;)switch(e.p=e.n){case 0:if(n.updateTimestamp(),n.server){e.n=1;break}throw new Error("GATT server is not available");case 1:return e.n=2,n.server.getPrimaryServices();case 2:if((r=e.v)&&0!==r.length){e.n=3;break}throw new Error("No services found");case 3:o=A(r),e.p=4,a=D().m((function e(){var t,r,o,a,c,u,s;return D().w((function(e){for(;;)switch(e.p=e.n){case 0:if(t=i.value,!(r=n.services.find((function(e){return e.uuid===t.uuid})))){e.n=9;break}return e.n=1,new Promise((function(e){return setTimeout(e,100)}));case 1:return e.n=2,t.getCharacteristics();case 2:o=e.v,a=A(r.characteristics),e.p=3,u=D().m((function e(){var i,a,u,s;return D().w((function(e){for(;;)switch(e.n){case 0:if(i=c.value,!(a=o.find((function(e){return e.uuid===i.uuid})))){e.n=1;break}(u=r.characteristics.find((function(e){return e.uuid===a.uuid})))&&(u.characteristic=a,"rx"===u.id&&(a.startNotifications(),s=function(e){var t=e.target;t&&t.value&&n.handleNotifications(t.value)},a.addEventListener("characteristicvaluechanged",s),n.notificationListeners.set(u.uuid,s))),e.n=2;break;case 1:throw new Error("Characteristic ".concat(i.uuid," not found in service ").concat(t.uuid));case 2:return e.a(2)}}),e)})),a.s();case 4:if((c=a.n()).done){e.n=6;break}return e.d(P(u()),5);case 5:e.n=4;break;case 6:e.n=8;break;case 7:e.p=7,s=e.v,a.e(s);case 8:return e.p=8,a.f(),e.f(8);case 9:return e.a(2)}}),e,null,[[3,7,8,9]])})),o.s();case 5:if((i=o.n()).done){e.n=7;break}return e.d(P(a()),6);case 6:e.n=5;break;case 7:e.n=9;break;case 8:e.p=8,c=e.v,o.e(c);case 9:return e.p=9,o.f(),e.f(9);case 10:t();case 11:return e.a(2)}}),e,null,[[4,8,9,10]])})));return function(t){return e.apply(this,arguments)}}()),U(n,"onDisconnected",(function(e){console.warn("Device ".concat(e.target.name," is disconnected.")),n.disconnect()})),U(n,"read",function(){var e=R(D().m((function e(t,r){var o,i,a,c,u,s,l=arguments;return D().w((function(e){for(;;)switch(e.n){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:0,n.isConnected()){e.n=1;break}return e.a(2,void 0);case 1:if(a=null===(o=n.services.find((function(e){return e.id===t})))||void 0===o||null===(o=o.characteristics.find((function(e){return e.id===r})))||void 0===o?void 0:o.characteristic){e.n=2;break}throw new Error('Characteristic "'.concat(r,'" not found in service "').concat(t,'"'));case 2:return n.updateTimestamp(),u=new TextDecoder("utf-8"),e.n=3,a.readValue();case 3:if(s=e.v,c="battery"!==t&&"humidity"!==t&&"temperature"!==t||"level"!==r?u.decode(s):s.getUint8(0).toString(),!(i>0)){e.n=4;break}return e.n=4,new Promise((function(e){return setTimeout(e,i)}));case 4:return e.a(2,c)}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),U(n,"updateTimestamp",(function(){n.updatedAt=new Date})),U(n,"write",function(){var e=R(D().m((function e(t,r,o){var i,a,c,u,s,l=arguments;return D().w((function(e){for(;;)switch(e.n){case 0:if(a=l.length>3&&void 0!==l[3]?l[3]:0,c=l.length>4&&void 0!==l[4]?l[4]:n.writeCallback,n.isConnected()&&void 0!==o){e.n=1;break}return e.a(2,Promise.resolve());case 1:if(u=null===(i=n.services.find((function(e){return e.id===t})))||void 0===i||null===(i=i.characteristics.find((function(e){return e.id===r})))||void 0===i?void 0:i.characteristic){e.n=2;break}throw new Error('Characteristic "'.concat(r,'" not found in service "').concat(t,'"'));case 2:return n.updateTimestamp(),s="string"==typeof o?(new TextEncoder).encode(o):o,e.n=3,u.writeValue(s);case 3:if(n.writeLast=o,n.writeCallback=c,!(a>0)){e.n=4;break}return e.n=4,new Promise((function(e){return setTimeout(e,a)}));case 4:return e.a(2)}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),n.filters=e.filters||[],n.services=e.services||[],n.commands=e.commands||{},n.bluetooth=e.bluetooth,n.massMax="0",n.massAverage="0",n.massTotalSum=0,n.dataPointCount=0,n.createdAt=new Date,n.updatedAt=new Date,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(t,e),n=t,(r=[{key:"getBluetooth",value:(i=R(D().m((function e(){return D().w((function(e){for(;;)switch(e.n){case 0:if("undefined"==typeof navigator||!navigator.bluetooth){e.n=1;break}return e.a(2,navigator.bluetooth);case 1:throw new Error("Bluetooth not available.");case 2:return e.a(2)}}),e)}))),function(){return i.apply(this,arguments)})},{key:"tare",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;return!this.tareActive&&(this.updateTimestamp(),this.tareActive=!0,this.tareDuration=e,this.tareSamples=[],this.tareStartTime=Date.now(),!0)}},{key:"applyTare",value:function(e){if(this.tareActive&&this.tareStartTime&&(this.tareSamples.push(e),Date.now()-this.tareStartTime>=this.tareDuration)){var t=this.tareSamples.reduce((function(e,t){return e+t}),0);this.tareCurrent=t/this.tareSamples.length,this.tareActive=!1,this.tareStartTime=null,this.tareSamples=[]}return this.tareCurrent}}])&&F(n.prototype,r),o&&F(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(function(){return e=function e(t){var n,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"id",void 0),O(this,"createdAt",void 0),O(this,"updatedAt",void 0),this.id=null!==(n=null!==(r=t.id)&&void 0!==r?r:null===(o=globalThis.crypto)||void 0===o||null===(i=o.randomUUID)||void 0===i?void 0:i.call(o))&&void 0!==n?n:e.generateUUID(),this.createdAt=t.createdAt,this.updatedAt=t.updatedAt},n=[{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)}))}}],(t=null)&&E(e.prototype,t),n&&E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}());var H;function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=J(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function J(e,t){if(e){if("string"==typeof e)return $(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function q(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return z(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,c=0,u=e,d.n=n,a}};function p(n,r){for(c=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),c=l,u=m;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(z(t={},r,(function(){return this})),t),f=s.prototype=c.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,z(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,z(f,"constructor",s),z(s,"constructor",u),u.displayName="GeneratorFunction",z(s,o,"GeneratorFunction"),z(f),z(f,o,"Generator"),z(f,r,(function(){return this})),z(f,"toString",(function(){return"[object Generator]"})),(q=function(){return{w:i,m:d}})()}function z(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(z=function(e,t,n,r){function i(t,n){z(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function Q(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Q(i,r,o,a,c,"next",e)}function c(e){Q(i,r,o,a,c,"throw",e)}a(void 0)}))}}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ie(r.key),r)}}function te(e,t,n){return t=ne(t),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ne(e).constructor):t.apply(e,n))}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oe(e,t,n){return(t=ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}!function(e){e[e.V2_MIDDLE=77]="V2_MIDDLE",e[e.V2_FIRST=78]="V2_FIRST",e[e.V2_LAST=79]="V2_LAST",e[e.V2_ONLY=80]="V2_ONLY",e[e.V3_MIDDLE=81]="V3_MIDDLE",e[e.V3_FIRST=82]="V3_FIRST",e[e.V3_LAST=83]="V3_LAST",e[e.V3_ONLY=84]="V3_ONLY"}(H||(H={}));var ae=[{id:12,product_id:1,position:1,name:"start",full_name:"Start",led_color:"00FF00",screen_color:"00DD00"},{id:13,product_id:1,position:2,name:"middle",full_name:"Middle",led_color:"00FFFF",screen_color:"00FFFF"},{id:14,product_id:1,position:3,name:"finish",full_name:"Finish",led_color:"FF00FF",screen_color:"FF00FF"},{id:15,product_id:1,position:4,name:"foot",full_name:"Foot Only",led_color:"FFB600",screen_color:"FFA500"}],ce=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oe(e=te(this,t,[{filters:[{services:[t.AuroraUUID]}],services:[{name:"UART Nordic Service",id:"uart",uuid:"6e400001-b5a3-f393-e0a9-e50e24dcca9e",characteristics:[{name:"TX",id:"tx",uuid:"6e400002-b5a3-f393-e0a9-e50e24dcca9e"}]}]}]),"splitMessages",(function(n){return e.splitEvery(t.maxBluetoothMessageSize,n).map((function(e){return new Uint8Array(e)}))})),oe(e,"led",function(){var t=Z(q().m((function t(n){var r;return q().w((function(t){for(;;)switch(t.n){case 0:if(!Array.isArray(n)){t.n=2;break}if(r=e.prepBytesV3(n),!e.isConnected()){t.n=1;break}return t.n=1,e.writeMessageSeries(e.splitMessages(r));case 1:return t.a(2,r);case 2:return t.a(2,void 0)}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}(t,e),n=t,(r=[{key:"checksum",value:function(e){var t,n=0,r=K(e);try{for(r.s();!(t=r.n()).done;)n=n+t.value&255}catch(e){r.e(e)}finally{r.f()}return 255&~n}},{key:"wrapBytes",value:function(e){return e.length>t.messageBodyMaxLength?[]:[1,e.length,this.checksum(e),2].concat(X(e),[3])}},{key:"encodePosition",value:function(e){return[255&e,(65280&e)>>8]}},{key:"encodeColor",value:function(e){var t=e.substring(0,2),n=e.substring(2,4),r=parseInt(t,16)/32<<5|parseInt(n,16)/32<<2,o=e.substring(4,6);return r|parseInt(o,16)/64}},{key:"encodePlacement",value:function(e,t){return[].concat(X(this.encodePosition(e)),[this.encodeColor(t)])}},{key:"prepBytesV3",value:function(e){var n,r=this,o=[],i=[H.V3_MIDDLE],a=K(e);try{var c=function(){var e,a=n.value;i.length+3>t.messageBodyMaxLength&&(o.push(i),i=[H.V3_MIDDLE]);var c=ae.find((function(e){return e.id===a.role_id}));if(!c)throw new Error("Role with id ".concat(a.role_id," not found in placement_roles"));var u=r.encodePlacement(a.position,c.led_color);(e=i).push.apply(e,X(u))};for(a.s();!(n=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}o.push(i),1===o.length?o[0][0]=H.V3_ONLY:o.length>1&&(o[0][0]=H.V3_FIRST,o[o.length-1][0]=H.V3_LAST);for(var u=[],s=0,l=o;s<l.length;s++){var f=l[s];u.push.apply(u,X(this.wrapBytes(f)))}return u}},{key:"splitEvery",value:function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],r=0;r<t.length;)n.push(t.slice(r,r+=e));return n}},{key:"writeMessageSeries",value:(i=Z(q().m((function e(t){var n,r,o,i;return q().w((function(e){for(;;)switch(e.p=e.n){case 0:n=K(t),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=r.value,e.n=3,this.write("uart","tx",o);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,i=e.v,n.e(i);case 6:return e.p=6,n.f(),e.f(6);case 7:return e.a(2)}}),e,this,[[1,5,6,7]])}))),function(e){return i.apply(this,arguments)})}])&&ee(n.prototype,r),o&&ee(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(W);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"==typeof e)return de(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function pe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return me(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,c=0,u=e,d.n=n,a}};function p(n,r){for(c=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),c=l,u=m;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(me(t={},r,(function(){return this})),t),f=s.prototype=c.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,me(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,me(f,"constructor",s),me(s,"constructor",u),u.displayName="GeneratorFunction",me(s,o,"GeneratorFunction"),me(f),me(f,o,"Generator"),me(f,r,(function(){return this})),me(f,"toString",(function(){return"[object Generator]"})),(pe=function(){return{w:i,m:d}})()}function me(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(me=function(e,t,n,r){function i(t,n){me(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function ye(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ye(i,r,o,a,c,"next",e)}function c(e){ye(i,r,o,a,c,"throw",e)}a(void 0)}))}}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Se(r.key),r)}}function be(e,t,n){return t=ge(t),function(e,t){if(t&&("object"==ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],ge(e).constructor):t.apply(e,n))}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _e(e,t,n){return(t=Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){var t=function(e,t){if("object"!=ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ue(t)?t:t+""}oe(ce,"AuroraUUID","4488b571-7806-4df6-bcff-a2897e4953ff"),oe(ce,"messageBodyMaxLength",255),oe(ce,"maxBluetoothMessageSize",20);var Te=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_e(e=be(this,t,[{filters:[{name:"Motherboard"}],services:[{name:"Device Information",id:"device",uuid:"0000180a-0000-1000-8000-00805f9b34fb",characteristics:[{name:"Firmware Revision String",id:"firmware",uuid:"00002a26-0000-1000-8000-00805f9b34fb"},{name:"Hardware Revision String",id:"hardware",uuid:"00002a27-0000-1000-8000-00805f9b34fb"},{name:"Manufacturer Name String",id:"manufacturer",uuid:"00002a29-0000-1000-8000-00805f9b34fb"}]},{name:"Battery Service",id:"battery",uuid:"0000180f-0000-1000-8000-00805f9b34fb",characteristics:[{name:"Battery Level",id:"level",uuid:"00002a19-0000-1000-8000-00805f9b34fb"}]},{name:"LED Service",id:"led",uuid:"10ababcd-15e1-28ff-de13-725bea03b127",characteristics:[{name:"Red LED",id:"red",uuid:"10ab1524-15e1-28ff-de13-725bea03b127"},{name:"Green LED",id:"green",uuid:"10ab1525-15e1-28ff-de13-725bea03b127"}]},{name:"UART Nordic Service",id:"uart",uuid:"6e400001-b5a3-f393-e0a9-e50e24dcca9e",characteristics:[{name:"TX",id:"tx",uuid:"6e400002-b5a3-f393-e0a9-e50e24dcca9e"},{name:"RX",id:"rx",uuid:"6e400003-b5a3-f393-e0a9-e50e24dcca9e"}]}],commands:{GET_SERIAL:"#",START_WEIGHT_MEAS:"S30",STOP_WEIGHT_MEAS:"",GET_CALIBRATION:"C",SLEEP:0,GET_TEXT:"T",DEBUG_STREAM:"D"}}]),"receiveBuffer",[]),_e(e,"calibrationData",[[],[],[],[]]),_e(e,"applyCalibration",(function(e,t){var n=1,r=0;e<t[0][2]&&(n=-1,e=-e);for(var o=1;o<t.length;o++){var i=t[o-1][2],a=t[o][2];if(e<a){r=t[o-1][1]+(e-i)/(a-i)*(t[o][1]-t[o-1][1]);break}}return n*r})),_e(e,"battery",ve(pe().m((function t(){return pe().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,e.read("battery","level",250);case 1:return t.a(2,t.v)}}),t)})))),_e(e,"calibration",ve(pe().m((function t(){return pe().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,e.write("uart","tx",e.commands.GET_CALIBRATION,2500,(function(e){console.log(e)}));case 1:return t.a(2)}}),t)})))),_e(e,"firmware",ve(pe().m((function t(){return pe().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,e.read("device","firmware",250);case 1:return t.a(2,t.v)}}),t)})))),_e(e,"handleNotifications",(function(n){if(n&&(e.updateTimestamp(),n.buffer)){for(var r=0;r<n.byteLength;r++)e.receiveBuffer.push(n.getUint8(r));for(var o,i=function(){var n=e.receiveBuffer.splice(0,o+1).slice(0,-1);n.length>0&&13===n[n.length-1]&&n.pop();var r=new TextDecoder("utf-8").decode(new Uint8Array(n)),i=Date.now();if(/^[0-9A-Fa-f]+$/g.test(r)&&r.length===t.packetLength){for(var a=Array.from({length:r.length/2},(function(e,t){return Number("0x".concat(r.substring(2*t,2*t+2)))})),c={received:i,sampleNum:new DataView(new Uint8Array(a).buffer).getUint16(0,!0),battRaw:new DataView(new Uint8Array(a).buffer).getUint16(2,!0),samples:[],masses:[]},u=new DataView(new Uint8Array(a).buffer),s=0;s<t.samplesNumber;s++){var l=4+3*s,f=u.getUint8(l)|u.getUint8(l+1)<<8|u.getUint8(l+2)<<16;c.samples[s]=f>>>0,c.samples[s]>=8388607&&(c.samples[s]-=16777216),c.masses[s]=e.applyCalibration(c.samples[s],e.calibrationData[s])}c.masses[1]*=-1,c.masses[2]*=-1,e.downloadPackets.push({received:c.received,sampleNum:c.battRaw,battRaw:c.received,samples:le(c.samples),masses:le(c.masses)});var d=c.masses[0],p=c.masses[1],m=c.masses[2];d-=e.applyTare(d),p-=e.applyTare(p),m-=e.applyTare(m),e.massMax=Math.max(Number(e.massMax),Math.max(-1e3,d+p+m)).toFixed(1);var y=Math.max(-1e3,d+p+m);e.massTotalSum+=y,e.dataPointCount++,e.massAverage=(e.massTotalSum/e.dataPointCount).toFixed(1),e.activityCheck(p),e.notifyCallback({massTotal:Math.max(-1e3,d+p+m).toFixed(1),massMax:e.massMax,massAverage:e.massAverage,massLeft:Math.max(-1e3,c.masses[0]).toFixed(1),massCenter:Math.max(-1e3,c.masses[1]).toFixed(1),massRight:Math.max(-1e3,c.masses[2]).toFixed(1)})}else if(e.writeLast===e.commands.GET_CALIBRATION){if(3===(r.match(/,/g)||[]).length){var v=r.split(",").map((function(e){return parseFloat(e)}));e.calibrationData[v[0]].push(v.slice(1))}}else e.writeCallback(r)};(o=e.receiveBuffer.indexOf(10))>=0;)i()}})),_e(e,"hardware",ve(pe().m((function t(){return pe().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,e.read("device","hardware",250);case 1:return t.a(2,t.v)}}),t)})))),_e(e,"led",function(){var t=ve(pe().m((function t(n){var r,o,i,a;return pe().w((function(t){for(;;)switch(t.n){case 0:if(!e.isConnected()){t.n=2;break}return o=se((r={green:[[0],[1]],red:[[1],[0]],orange:[[1],[1]],off:[[0],[0]]})["string"==typeof n&&r[n]?n:"off"],2),i=o[0],a=o[1],t.n=1,e.write("led","red",new Uint8Array(i));case 1:return t.n=2,e.write("led","green",new Uint8Array(a),1250);case 2:return t.a(2,void 0)}}),t)})));return function(e){return t.apply(this,arguments)}}()),_e(e,"manufacturer",ve(pe().m((function t(){return pe().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,e.read("device","manufacturer",250);case 1:return t.a(2,t.v)}}),t)})))),_e(e,"serial",ve(pe().m((function t(){var n;return pe().w((function(t){for(;;)switch(t.n){case 0:return n=void 0,t.n=1,e.write("uart","tx",e.commands.GET_SERIAL,250,(function(e){n=e}));case 1:return t.a(2,n)}}),t)})))),_e(e,"stop",ve(pe().m((function t(){return pe().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,e.write("uart","tx",e.commands.STOP_WEIGHT_MEAS,0);case 1:return t.a(2)}}),t)})))),_e(e,"stream",ve(pe().m((function t(){var n,r=arguments;return pe().w((function(t){for(;;)switch(t.n){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:0,e.downloadPackets.length=0,e.calibrationData[0].length){t.n=1;break}return t.n=1,e.calibration();case 1:return t.n=2,e.write("uart","tx",e.commands.START_WEIGHT_MEAS,n);case 2:if(0===n){t.n=3;break}return t.n=3,e.stop();case 3:return t.a(2)}}),t)})))),_e(e,"text",ve(pe().m((function t(){var n;return pe().w((function(t){for(;;)switch(t.n){case 0:return n=void 0,t.n=1,e.write("uart","tx",e.commands.GET_TEXT,250,(function(e){n=e}));case 1:return t.a(2,n)}}),t)})))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(t,e),n=t,r&&he(n.prototype,r),o&&he(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W);_e(Te,"packetLength",32),_e(Te,"samplesNumber",3);var Ee;function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return je(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,c=0,u=e,d.n=n,a}};function p(n,r){for(c=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),c=l,u=m;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(je(t={},r,(function(){return this})),t),f=s.prototype=c.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,je(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,je(f,"constructor",s),je(s,"constructor",u),u.displayName="GeneratorFunction",je(s,o,"GeneratorFunction"),je(f),je(f,o,"Generator"),je(f,r,(function(){return this})),je(f,"toString",(function(){return"[object Generator]"})),(xe=function(){return{w:i,m:d}})()}function je(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(je=function(e,t,n,r){function i(t,n){je(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function Pe(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Pe(i,r,o,a,c,"next",e)}function c(e){Pe(i,r,o,a,c,"throw",e)}a(void 0)}))}}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function Ie(e,t,n){return t=Ce(t),function(e,t){if(t&&("object"==Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],Ce(e).constructor):t.apply(e,n))}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Me(e,t,n){return(t=Le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}!function(e){e[e.COMMAND_RESPONSE=0]="COMMAND_RESPONSE",e[e.WEIGHT_MEASURE=1]="WEIGHT_MEASURE",e[e.PEAK_RFD_MEAS=2]="PEAK_RFD_MEAS",e[e.PEAK_RFD_MEAS_SERIES=3]="PEAK_RFD_MEAS_SERIES",e[e.LOW_BATTERY_WARNING=4]="LOW_BATTERY_WARNING"}(Ee||(Ee={}));var Re=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(e=Ie(this,t,[{filters:[{namePrefix:"Progressor"}],services:[{name:"Progressor Service",id:"progressor",uuid:"7e4e1701-1ea6-40c9-9dcc-13d34ffead57",characteristics:[{name:"Notify",id:"rx",uuid:"7e4e1702-1ea6-40c9-9dcc-13d34ffead57"},{name:"Write",id:"tx",uuid:"7e4e1703-1ea6-40c9-9dcc-13d34ffead57"}]},{name:"Nordic Device Firmware Update (DFU) Service",id:"dfu",uuid:"0000fe59-0000-1000-8000-00805f9b34fb",characteristics:[{name:"Buttonless DFU",id:"dfu",uuid:"8ec90003-f315-4f60-9fb8-838830daea50"}]}],commands:{TARE_SCALE:"d",START_WEIGHT_MEAS:"e",STOP_WEIGHT_MEAS:"f",START_PEAK_RFD_MEAS:"g",START_PEAK_RFD_MEAS_SERIES:"h",ADD_CALIB_POINT:"i",SAVE_CALIB:"j",GET_FW_VERSION:"k",GET_ERR_INFO:"l",CLR_ERR_INFO:"m",SLEEP:"n",GET_BATT_VLTG:"o"}}]),"battery",Ae(xe().m((function t(){var n;return xe().w((function(t){for(;;)switch(t.n){case 0:return n=void 0,t.n=1,e.write("progressor","tx",e.commands.GET_BATT_VLTG,250,(function(e){n=e}));case 1:return t.a(2,n)}}),t)})))),Me(e,"firmware",Ae(xe().m((function t(){var n;return xe().w((function(t){for(;;)switch(t.n){case 0:return n=void 0,t.n=1,e.write("progressor","tx",e.commands.GET_FW_VERSION,250,(function(e){n=e}));case 1:return t.a(2,n)}}),t)})))),Me(e,"handleNotifications",(function(t){if(t&&(e.updateTimestamp(),t.buffer)){var n=Date.now(),r=t.getInt8(0);if(r===Ee.WEIGHT_MEASURE)for(var o=2;o<t.byteLength;){var i=t.getFloat32(o,!0);o+=4;var a=t.getInt32(o,!0);if(o+=4,!isNaN(i)&&!isNaN(a)){var c=i-e.applyTare(i);e.downloadPackets.push({received:n,sampleNum:a,battRaw:0,samples:[i],masses:[c]}),e.massMax=Math.max(Number(e.massMax),Number(c)).toFixed(1);var u=Math.max(-1e3,Number(c));e.massTotalSum+=u,e.dataPointCount++,e.massAverage=(e.massTotalSum/e.dataPointCount).toFixed(1),e.activityCheck(c),e.notifyCallback({massMax:e.massMax,massAverage:e.massAverage,massTotal:Math.max(-1e3,c).toFixed(1)})}}else if(r===Ee.COMMAND_RESPONSE){if(!e.writeLast)return;var s="";e.writeLast===e.commands.GET_BATT_VLTG?s=new DataView(t.buffer,2).getUint32(0,!0).toString():e.writeLast===e.commands.GET_FW_VERSION?s=(new TextDecoder).decode(new Uint8Array(t.buffer).slice(2)):e.writeLast===e.commands.GET_ERR_INFO&&(s=(new TextDecoder).decode(new Uint8Array(t.buffer.slice(2)))),e.writeCallback(s)}else{if(r!==Ee.LOW_BATTERY_WARNING)throw new Error("Unknown message kind detected: ".concat(r));console.warn(" Low power detected. Please consider connecting to a power source.")}}})),Me(e,"stop",Ae(xe().m((function t(){return xe().w((function(t){for(;;)switch(t.n){case 0:return t.n=1,e.write("progressor","tx",e.commands.STOP_WEIGHT_MEAS,0);case 1:return t.a(2)}}),t)})))),Me(e,"stream",Ae(xe().m((function t(){var n,r=arguments;return xe().w((function(t){for(;;)switch(t.n){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:0,e.downloadPackets.length=0,t.n=1,e.write("progressor","tx",e.commands.START_WEIGHT_MEAS,n);case 1:if(0===n){t.n=2;break}return t.n=2,e.stop();case 2:return t.a(2)}}),t)})))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(t,e),n=t,r&&ke(n.prototype,r),o&&ke(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return Be(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,c=0,u=e,d.n=n,a}};function p(n,r){for(c=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),c=l,u=m;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Be(t={},r,(function(){return this})),t),f=s.prototype=c.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,Be(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,Be(f,"constructor",s),Be(s,"constructor",u),u.displayName="GeneratorFunction",Be(s,o,"GeneratorFunction"),Be(f),Be(f,o,"Generator"),Be(f,r,(function(){return this})),Be(f,"toString",(function(){return"[object Generator]"})),(Ne=function(){return{w:i,m:d}})()}function Be(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(Be=function(e,t,n,r){function i(t,n){Be(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function Ge(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ge(i,r,o,a,c,"next",e)}function c(e){Ge(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ke(r.key),r)}}function We(e,t,n){return t=He(t),function(e,t){if(t&&("object"==Fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],He(e).constructor):t.apply(e,n))}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e,t,n){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){var t=function(e,t){if("object"!=Fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fe(t)?t:t+""}var Je=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xe(e=We(this,t,[{filters:[{manufacturerData:[{companyIdentifier:256}]}],services:[]}]),"advertisementTimeout",null),Xe(e,"advertisementTimeoutTime",10),Xe(e,"connect",Ue(Ne().m((function n(){var r,o,i,a,c,u=arguments;return Ne().w((function(n){for(;;)switch(n.p=n.n){case 0:return r=u.length>0&&void 0!==u[0]?u[0]:function(){return console.log("Connected successfully")},o=u.length>1&&void 0!==u[1]?u[1]:function(e){return console.error(e)},n.p=1,i=e.filters.flatMap((function(e){var t;return(null===(t=e.manufacturerData)||void 0===t?void 0:t.map((function(e){return e.companyIdentifier})))||[]})),n.n=2,e.getBluetooth();case 2:return a=n.v,n.n=3,a.requestDevice({filters:e.filters,optionalManufacturerData:i});case 3:if(e.bluetooth=n.v,e.bluetooth.gatt){n.n=4;break}throw new Error("GATT is not available on this device");case 4:if(e.updateTimestamp(),r(),e.bluetooth.addEventListener("advertisementreceived",(function(n){var r=n.manufacturerData.get(t.manufacturerId);if(r){var o=r.getUint8(t.weightOffset)<<8|r.getUint8(t.weightOffset+1),i=Date.now(),a=o/100,c=a- -1*e.applyTare(a);e.downloadPackets.push({received:i,sampleNum:e.dataPointCount,battRaw:0,samples:[c],masses:[c]}),e.massMax=Math.max(Number(e.massMax),c).toFixed(1);var u=Math.max(-1e3,c);e.massTotalSum+=u,e.dataPointCount++,e.massAverage=(e.massTotalSum/e.dataPointCount).toFixed(1),e.activityCheck(c),e.notifyCallback({massMax:e.massMax,massAverage:e.massAverage,massTotal:Math.max(-1e3,c).toFixed(1)})}e.resetAdvertisementTimeout()})),!i.length){n.n=7;break}if("function"!=typeof e.bluetooth.watchAdvertisements){n.n=6;break}return n.n=5,e.bluetooth.watchAdvertisements();case 5:n.n=7;break;case 6:throw new Error("watchAdvertisements isn't supported. For Chrome, enable it at chrome://flags/#enable-experimental-web-platform-features.");case 7:n.n=9;break;case 8:n.p=8,c=n.v,o(c);case 9:return n.a(2)}}),n,null,[[1,8]])})))),Xe(e,"isConnected",(function(){return!!e.bluetooth})),Xe(e,"resetAdvertisementTimeout",(function(){e.advertisementTimeout&&clearTimeout(e.advertisementTimeout),e.advertisementTimeout=globalThis.setTimeout((function(){var t=new Event("gattserverdisconnected");Object.defineProperty(t,"target",{value:e.bluetooth,writable:!1}),console.error("No advertisement received for ".concat(e.advertisementTimeoutTime," seconds, stopping tracking..")),e.onDisconnected(t)}),1e3*e.advertisementTimeoutTime)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(t,e),n=t,r&&Ve(n.prototype,r),o&&Ve(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W);function $e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return qe(s,"_invoke",function(n,r,o){var i,c,u,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,c=0,u=e,d.n=n,a}};function p(n,r){for(c=n,u=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,i=l[t],p=d.p,m=i[2];n>3?(o=m===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,c=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),c=l,u=m;(t=c<2?e:u)||!f;){i||(c?c<3?(c>1&&(d.n=-1),p(c,u)):d.n=u:d.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(qe(t={},r,(function(){return this})),t),f=s.prototype=c.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,qe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,qe(f,"constructor",s),qe(s,"constructor",u),u.displayName="GeneratorFunction",qe(s,o,"GeneratorFunction"),qe(f),qe(f,o,"Generator"),qe(f,r,(function(){return this})),qe(f,"toString",(function(){return"[object Generator]"})),($e=function(){return{w:i,m:d}})()}function qe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(qe=function(e,t,n,r){function i(t,n){qe(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function ze(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ze(i,r,o,a,c,"next",e)}function c(e){ze(i,r,o,a,c,"throw",e)}a(void 0)}))}}Xe(Je,"weightOffset",10),Xe(Je,"manufacturerId",256);var Ze=null,et=0,tt=5,nt=0,rt=!1,ot=!1,it=!1;function at(){var e=document.getElementById("controlPanel"),t=document.getElementById("overlay");e&&t?(ot=!ot)?(e.classList.add("expanded"),t.classList.add("active")):(e.classList.remove("expanded"),t.classList.remove("active")):console.error("Panel or overlay elements not found")}function ct(e,t){var n=document.getElementById("miniStatus"),r=document.getElementById("miniWeight"),o=document.getElementById("controlMini");n&&r&&o?(n.textContent=e.toUpperCase(),r.textContent=t+"kg",o.className="control-mini","connected"===e?o.classList.add("connected"):"connecting"===e&&o.classList.add("connecting")):console.error("Mini status elements not found")}function ut(e){var t=document.getElementById("connectionStatus"),n=document.getElementById("connectBtn"),r=document.getElementById("tareBtn"),o=document.getElementById("disconnectBtn");if(t)switch(e){case"connected":t.textContent="Connected",t.className="status-value connected",n&&(n.disabled=!0),r&&(r.disabled=!1),o&&(o.disabled=!1),rt=!0,ct("connected",et.toFixed(1));break;case"connecting":t.textContent="Connecting...",t.className="status-value",n&&(n.disabled=!0),ct("connecting","--");break;case"disconnected":t.textContent="Disconnected",t.className="status-value disconnected",n&&(n.disabled=!1),r&&(r.disabled=!0),o&&(o.disabled=!0),rt=!1,ct("disconnected","--")}else console.error("Status elements not found")}function st(e){var t=document.getElementById("weightDisplay");t?(t.textContent="".concat(e," kg"),ct(rt?"connected":"disconnected",parseFloat(e).toFixed(1)),parseFloat(e)>=tt?t.classList.add("jumping"):t.classList.remove("jumping")):console.error("Weight display element not found")}function lt(e){var t=e/1e3;return t>=4.2?100:t>=4.15?95:t>=4.11?90:t>=4.08?85:t>=4.02?80:t>=3.98?75:t>=3.95?70:t>=3.91?65:t>=3.87?60:t>=3.85?55:t>=3.84?50:t>=3.82?45:t>=3.8?40:t>=3.79?35:t>=3.77?30:t>=3.75?25:t>=3.73?20:t>=3.71?15:t>=3.69?10:t>=3.61?5:t>=3.5?1:0}function ft(){return(ft=Qe($e().m((function e(){var t;return $e().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,console.log("Attempting to connect to Progressor..."),ut("connecting"),Ze=new Re,e.n=1,Ze.connect(Qe($e().m((function e(){var t,n,r,o,i;return $e().w((function(e){for(;;)switch(e.p=e.n){case 0:return console.log("Progressor connected successfully"),ut("connected"),Ze.notify((function(e){et=parseFloat(e.massTotal),st(e.massTotal),et>=tt&&Date.now()-nt>300&&(console.log("Triggering jump - weight:",et,"threshold:",tt),pt(),nt=Date.now())})),e.p=1,r=lt,e.n=2,Ze.battery();case 2:o=e.v,t=r(o),(n=document.getElementById("batteryLevel"))&&(n.textContent=t+"%"),console.log("Battery level:",t,"%"),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Error getting battery level:",i);case 4:return console.log("Performing tare..."),e.n=5,Ze.tare();case 5:return console.log("Starting stream..."),e.n=6,Ze.stream();case 6:return e.a(2)}}),e,null,[[1,3]])}))),(function(e){console.error("Connection failed:",e),ut("disconnected"),alert("Connection failed: "+e.message)}));case 1:e.n=3;break;case 2:e.p=2,t=e.v,console.error("Connection error:",t),ut("disconnected"),alert("Connection error: "+t.message);case 3:return e.a(2)}}),e,null,[[0,2]])})))).apply(this,arguments)}function dt(){return(dt=Qe($e().m((function e(){return $e().w((function(e){for(;;)switch(e.n){case 0:if(!Ze){e.n=2;break}return console.log("Performing manual tare..."),e.n=1,Ze.tare();case 1:e.n=3;break;case 2:console.error("Progressor not connected");case 3:return e.a(2)}}),e)})))).apply(this,arguments)}function pt(){console.log("Triggering dino jump from Progressor"),document.ontouchstart&&document.ontouchstart()}function mt(){console.log("Binding event handlers...");var e=document.getElementById("thresholdInput");e&&e.addEventListener("input",(function(e){tt=parseFloat(e.target.value)||5,console.log("Jump threshold updated to:",tt,"kg")}));var t=document.getElementById("controlMini");t&&t.addEventListener("click",(function(){console.log("Control mini clicked"),at()}));var n=document.getElementById("panelHandle");n&&n.addEventListener("click",(function(){console.log("Panel handle clicked"),at()}));var r=document.getElementById("overlay");r&&r.addEventListener("click",(function(){console.log("Overlay clicked"),ot&&at()}));var o=document.getElementById("connectBtn");o&&o.addEventListener("click",(function(){console.log("Connect button clicked"),function(){ft.apply(this,arguments)}()}));var i=document.getElementById("tareBtn");i&&i.addEventListener("click",(function(){console.log("Tare button clicked"),function(){dt.apply(this,arguments)}()}));var a=document.getElementById("disconnectBtn");a&&a.addEventListener("click",(function(){console.log("Disconnect button clicked"),function(){Ze&&(console.log("Disconnecting Progressor..."),Ze.disconnect(),Ze=null),ut("disconnected"),st("--");var e=document.getElementById("batteryLevel");e&&(e.textContent="--")}()})),console.log("Event handlers bound successfully")}var yt=document.getElementById("board"),vt=yt.getContext("2d"),ht=1e3,bt=new s(0,-7),gt=20;screen.width<ht&&(ht=screen.width,bt.add(new s(0,2)),gt=50);var wt=new s(-11,0),_t=new s(-.6,0),St=new u(200,10),Tt=new s(0,0),Et=!0,Ot=null,xt=!0,jt=null,Pt=0,At=null,kt=new s(0,-.1),It=null,Ct=null,Dt=null,Mt=null,Lt=[new _((new w).add_character(new b([S.stone_layout.large],0,new u(240,ht),bt),.9).add_character(new b([S.stone_layout.medium],0,new u(243,ht),bt),.75).add_character(new b([S.stone_layout.small],0,new u(241,ht),bt),.6),2,0),new _((new w).add_character(new b([S.cloud_layout],0,new u(100,ht),new s(0,-1)),.9).add_character(new b([S.cloud_layout],0,new u(135,ht),new s(0,-1)),.85).add_character(new b([S.cloud_layout],0,new u(150,ht),new s(0,-1)),.8),350,300),new _((new w).add_character(new b([S.star_layout.small_s1],0,new u(90,ht),new s(0,-.3)),.9).add_character(new b([S.star_layout.small_s2],0,new u(125,ht),new s(0,-.3)),.85).add_character(new b([S.star_layout.small_s1],0,new u(140,ht),new s(0,-.3)),.8),350,250),new _((new w).add_character(new b([S.pit_layout.large],0,new u(223,ht),bt),.97).add_character(new b([S.pit_layout.up],0,new u(227,ht),bt),.9).add_character(new b([S.pit_layout.down],0,new u(230,ht),bt),.85),100,50)],Rt=[new _((new w).add_character(new b([S.cactus_layout.small_d1],0,new u(201,ht),bt),.8).add_character(new b([S.cactus_layout.small_s1],0,new u(201,ht),bt),.7).add_character(new b([S.cactus_layout.small_s2],0,new u(201,ht),bt),.6).add_character(new b([S.cactus_layout.medium_d1],0,new u(193,ht),bt),.5).add_character(new b([S.cactus_layout.medium_s1],0,new u(193,ht),bt),.4).add_character(new b([S.cactus_layout.medium_s2],0,new u(193,ht),bt),.3),gt,100),new _((new w).add_character(new b(S.bird_layout.fly,0,new u(170,ht),bt.clone().add(new s(0,-1))),.98).add_character(new b(S.bird_layout.fly,0,new u(190,ht),bt.clone().add(new s(0,-1))),.9),500,50)];function Ft(){it||(console.log("Initializing BT Scale Control..."),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){console.log("DOM loaded, binding handlers..."),mt(),ut("disconnected"),ct("disconnected","--")})):(console.log("DOM already loaded, binding handlers immediately..."),mt(),ut("disconnected"),ct("disconnected","--")),it=!0),Ct=S.themes.classic,It=new s(0,0),Ot=!1,jt=0,At=localStorage.getItem("project.github.chrome_dino.high_score")||0,yt.height=300,yt.width=ht,Dt=[],Mt=[new g(new b(S.dino_layout.run,4,St.clone(),new s(0,0)))],document.ontouchstart=function(){Ot&&Date.now()-Ot>1e3?Gt():Et&&(Et=!1,Tt=wt.clone())}}function Nt(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)if(Ct.layout[e[n][r]]){vt.fillStyle=Ct.layout[e[n][r]];var o=t[1]+2*r,i=t[0]+2*n;vt.fillRect(o,i,2,2)}}function Bt(){(Pt+=.15)>1&&(Pt-=1,jt++),0!=jt&&jt%300==0&&(jt++,Ct=1==Ct.id?S.themes.dark:S.themes.classic),vt.clearRect(0,0,yt.width,yt.height),vt.fillStyle=Ct.background,vt.fillRect(0,0,yt.width,yt.height),vt.beginPath();for(var e=0;e<yt.width;e++)vt.fillStyle=Ct.road,vt.fillRect(0,232,yt.width,.4);if(vt.font="20px Arcade",vt.fillStyle=Ct.score_text,vt.fillText("H I     ".concat(Math.floor(At).toString().padStart(4,"0").split("").join(" "),"     ").concat(jt.toString().padStart(4,"0").split("").join(" ")),yt.width-200,20),xt)return xt=!1,Nt(S.dino_layout.stand,Mt[0].get_position().get()),Ot=Date.now(),vt.textBaseline="middle",vt.textAlign="center",vt.font="25px Arcade",vt.fillStyle=Ct.info_text,void vt.fillText("J     U     M     P             T     O             S     T     A     R     T",yt.width/2,yt.height/2-50);[[Lt,Dt],[Rt,Mt]].forEach((function(e){for(var t=0;t<e[0].length;t++){var n=e[0][t];n.tick();var r=n.get_character();r&&(r.get_velocity().add(It),e[1].push(r))}})),jt%100==0&&It.add(kt),[Dt,Mt].forEach((function(e,t){for(var n=e.length-1;n>=0;n--){1==t&&0==n||jt%100!=0||e[n].get_velocity().add(kt),e[n].tick();var r=e[n].get_layout();Et||1!=t||0!=n||(r=S.dino_layout.stand);var o=e[n].get_position().get();o[1]<-150?e.splice(n,1):Nt(r,o)}}));for(var t,n,r,o,i,a,c,s,f=Mt[0],d=f.get_position(),p=f.get_layout(),m=Mt.length-1;m>0;m--){var y=Mt[m].get_position(),v=Mt[m].get_layout();if(t=d.get()[0],n=d.get()[1],r=p.length,o=p[0].length,i=y.get()[0],a=y.get()[1],c=v.length,s=v[0].length,t<i+c&&t+r>i&&n+o>a&&n<a+s)return vt.textBaseline="middle",vt.textAlign="center",vt.font="25px Arcade",vt.fillStyle=Ct.info_text,vt.fillText("G     A     M     E             O     V     E     R",yt.width/2,yt.height/2-50),Nt(S.retry_layout,new u(yt.height/2-S.retry_layout.length,yt.width/2-S.retry_layout[0].length).get()),Nt(S.dino_layout.dead,Mt[0].get_position().get()),Ot=Date.now(),void(localStorage.getItem("project.github.chrome_dino.high_score")<jt&&localStorage.setItem("project.github.chrome_dino.high_score",jt))}f.set_position(l(f.get_position(),Tt)),f.get_position().get()[0]>St.get()[0]&&(f.set_position(St.clone()),Et=!0),Tt.sub(_t),requestAnimationFrame(Bt)}function Gt(){Ft(),Bt()}document.fonts.load('1rem "Arcade"').then((function(){Gt()}))}]);